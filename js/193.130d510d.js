"use strict";(self["webpackChunkdesafio_uno_firebase"]=self["webpackChunkdesafio_uno_firebase"]||[]).push([[193],{8193:function(e,a,o){o.r(a),o.d(a,{default:function(){return te}});var r=o(6768);const s={class:"contacto"},t=(0,r.Lk)("h1",null,"Pagina de contactos",-1);function l(e,a,o,l,i,d){const n=(0,r.g2)("CompTabla"),c=(0,r.g2)("FormTabla");return(0,r.uX)(),(0,r.CE)("div",s,[t,(0,r.bF)(n,{usuarios:e.usuarios},null,8,["usuarios"]),(0,r.bF)(c)])}var i=o(4232),d=o(5130);const n={class:"compTabla container"},c={class:"table"},u=(0,r.Lk)("thead",null,[(0,r.Lk)("tr",null,[(0,r.Lk)("th",{scope:"col"},"#"),(0,r.Lk)("th",{scope:"col"},"ID"),(0,r.Lk)("th",{scope:"col"},"Nombre"),(0,r.Lk)("th",{scope:"col"},"Correo"),(0,r.Lk)("th",{scope:"col"},"Alias"),(0,r.Lk)("th",{scope:"col"},"Acciones")])],-1),m={scope:"row"},b=["onClick"],p=(0,r.Lk)("i",{class:"fa-solid fa-pen-to-square"},null,-1),k=[p],f=["onClick"],L=(0,r.Lk)("i",{class:"fa-solid fa-trash"},null,-1),U=[L],h={class:"modal fade",id:"updateModal","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"updateModalLabel","aria-hidden":"true"},v={class:"modal-dialog"},y={class:"modal-content"},g=(0,r.Lk)("div",{class:"modal-header"},[(0,r.Lk)("h1",{class:"modal-title fs-5",id:"updateModalLabel"},"Editar datos de usuario"),(0,r.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),C={class:"modal-body"},w={class:"py-2"},A=(0,r.Lk)("label",{for:"",class:"form-label"},"ID:",-1),x={class:"py-2"},E=(0,r.Lk)("label",{for:"",class:"form-label"},"Nombre:",-1),M={class:"py-2"},_=(0,r.Lk)("label",{for:"",class:"form-label"},"Correo:",-1),N={class:"py-2"},V=(0,r.Lk)("label",{for:"",class:"form-label"},"Alias:",-1),J=(0,r.Lk)("div",{class:"py-2"},[(0,r.Lk)("input",{type:"submit",value:"Actualizar usuario",class:"btn btn-success"})],-1);function T(e,a,o,s,t,l){return(0,r.uX)(),(0,r.CE)("div",n,[(0,r.Lk)("table",c,[u,(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(o.usuarios,((a,o)=>((0,r.uX)(),(0,r.CE)("tr",{key:a.id},[(0,r.Lk)("th",m,(0,i.v_)(o+1),1),(0,r.Lk)("td",null,(0,i.v_)(a.id),1),(0,r.Lk)("td",null,(0,i.v_)(a.nombre),1),(0,r.Lk)("td",null,(0,i.v_)(a.correo),1),(0,r.Lk)("td",null,(0,i.v_)(a.alias),1),(0,r.Lk)("td",null,[(0,r.Lk)("button",{class:"btn btn-warning mx-2",onClick:e=>l.preUpdateUser(a.id),"data-bs-toggle":"modal","data-bs-target":"#updateModal"},k,8,b),(0,r.Lk)("button",{class:"btn btn-danger",onClick:o=>e.delUser(a.id)},U,8,f)])])))),128))])]),(0,r.Lk)("div",h,[(0,r.Lk)("div",v,[(0,r.Lk)("div",y,[g,(0,r.Lk)("div",C,[(0,r.Lk)("form",{onSubmit:a[4]||(a[4]=(0,d.D$)(((...e)=>l.updateUser&&l.updateUser(...e)),["prevent"]))},[(0,r.Lk)("div",w,[A,(0,r.bo)((0,r.Lk)("input",{type:"text",class:"form-control",name:"id","onUpdate:modelValue":a[0]||(a[0]=e=>t.editUser.id=e),disabled:""},null,512),[[d.Jo,t.editUser.id]])]),(0,r.Lk)("div",x,[E,(0,r.bo)((0,r.Lk)("input",{type:"text",class:"form-control",name:"nombre","onUpdate:modelValue":a[1]||(a[1]=e=>t.editUser.nombre=e)},null,512),[[d.Jo,t.editUser.nombre]])]),(0,r.Lk)("div",M,[_,(0,r.bo)((0,r.Lk)("input",{type:"text",class:"form-control",name:"email","onUpdate:modelValue":a[2]||(a[2]=e=>t.editUser.correo=e)},null,512),[[d.Jo,t.editUser.correo]])]),(0,r.Lk)("div",N,[V,(0,r.bo)((0,r.Lk)("input",{type:"text",class:"form-control",name:"username","onUpdate:modelValue":a[3]||(a[3]=e=>t.editUser.alias=e)},null,512),[[d.Jo,t.editUser.alias]])]),J],32)])])])])])}var F=o(7617),X=o(5328),q=o(782),D={name:"TableComp",props:{usuarios:Array},data(){return{updateModal:"",editUser:{id:"",nombre:"",correo:"",alias:""}}},methods:{...(0,q.i0)(["delUser"]),preUpdateUser(e){let{id:a,nombre:o,correo:r,alias:s}=this.usuarios.find((a=>a.id==e));this.editUser={id:a,nombre:o,correo:r,alias:s}},async updateUser(){try{let e=(0,F.aU)(X.A),a=(0,F.H9)(e,"usuarios",this.editUser.id);await(0,F.mZ)(a,{nombre:this.editUser.nombre,correo:this.editUser.correo,alias:this.editUser.alias}),alert("Usuario editado correctamente."),this.editUser={id:"",nombre:"",correo:"",alias:""},this.updateModal.hide()}catch(e){console.log(e),alert("Error al intentar editar el usuario.")}}},async mounted(){this.updateModal=new window.bootstrap.Modal("#updateModal")}},I=o(1241);const H=(0,I.A)(D,[["render",T]]);var S=H;const $={id:"formComp"},j={class:"row justify-content-center"},z={class:"col-12 col-md-6"},K=(0,r.Lk)("h3",{class:"py-3 text-center"},"Agregar nuevo usuario",-1),P={class:"form-floating mb-2"},Z=(0,r.Lk)("label",{for:"inputName"},"Nombre",-1),B={class:"form-floating mb-2"},G=(0,r.Lk)("label",{for:"inputEmail"},"Correo",-1),O={class:"input-group mb-2"},Q={class:"form-floating"},R=(0,r.Lk)("label",{for:"inputUsername"},"Alias",-1),W=(0,r.Lk)("div",{class:"form-floating mb-2 text-end"},[(0,r.Lk)("button",{class:"btn btn-primary"},"Agregar")],-1);function Y(e,a,o,s,t,l){return(0,r.uX)(),(0,r.CE)("div",$,[(0,r.Lk)("div",j,[(0,r.Lk)("div",z,[K,(0,r.Lk)("form",{onSubmit:a[3]||(a[3]=(0,d.D$)(((...e)=>l.addNewUser&&l.addNewUser(...e)),["prevent"]))},[(0,r.Lk)("div",P,[(0,r.bo)((0,r.Lk)("input",{type:"text",class:"form-control",id:"inputName","onUpdate:modelValue":a[0]||(a[0]=e=>t.formUser.nombre=e),required:""},null,512),[[d.Jo,t.formUser.nombre]]),Z]),(0,r.Lk)("div",B,[(0,r.bo)((0,r.Lk)("input",{type:"text",class:"form-control",id:"inputEmail","onUpdate:modelValue":a[1]||(a[1]=e=>t.formUser.correo=e),required:""},null,512),[[d.Jo,t.formUser.correo]]),G]),(0,r.Lk)("div",O,[(0,r.Lk)("div",Q,[(0,r.bo)((0,r.Lk)("input",{type:"text",class:"form-control",id:"inputUsername","onUpdate:modelValue":a[2]||(a[2]=e=>t.formUser.alias=e),required:""},null,512),[[d.Jo,t.formUser.alias]]),R])]),W],32)])])])}var ee={name:"FormTabla",props:{},data(){return{formUser:{nombre:"",correo:"",alias:""}}},methods:{...(0,q.i0)(["addUser"]),async addNewUser(){let e={nombre:this.formUser.nombre,correo:this.formUser.correo,alias:this.formUser.alias};await this.addUser(e),this.formUser.nombre="",this.formUser.correo="",this.formUser.alias="",alert("Usuario agregado correctamente.")}}};const ae=(0,I.A)(ee,[["render",Y]]);var oe=ae,re={name:"ContactosView",components:{CompTabla:S,FormTabla:oe},computed:{...(0,q.aH)(["usuarios"])},methods:{...(0,q.i0)(["setUsers"])},mounted(){this.setUsers()}};const se=(0,I.A)(re,[["render",l]]);var te=se}}]);
//# sourceMappingURL=193.130d510d.js.map